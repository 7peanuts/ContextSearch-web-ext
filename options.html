<!DOCTYPE html>

<html>
	<head>
		<meta charset="utf-8">
		<title>Options</title>
		<style>
			BODY {
			/*	font-family: Helvetica, "Trebuchet MS", Verdana, sans-serif; */
				font-family: "Source Sans Pro", sans-serif;
				background-color:#E9ECEF;
				padding:20px;
				color:#343a40;
				margin:0;
				overflow-y:hidden;  
			}
			.code {
				font-family:Consolas,Monaco,Lucida Console,Liberation Mono,DejaVu Sans Mono,Bitstream Vera Sans Mono,Courier New;
				font-weight: normal;
				-moz-user-select: text;
				color:blue;
				background-color:#FBFACE;
				padding:5px;
			}
			HR {
				display: block;
				height: 1px;
				border: 0;
				border-top: 3px solid #E9ECEF;
				margin: 1em 0;
				padding: 0; 
			}			
			.blobContainerHeader {
				font-size:16pt;
				font-weight:bold;
				padding:4px 20px 24px 20px;
				text-align:left;
				border-bottom:3px solid #E9ECEF;
			}
			.blobContainerHeader IMG {
				height:30px;
				vertical-align:middle;
				margin-right:20px;
			}
			.blobContainerHeader + DIV {
				padding:20px;
			}
			.keyboardButton {
				border-radius:5px;
				border: 2px outset black;
				background-color:#DDDDDD;
				font-size:12pt;
				padding:3px 4px;
				color:black;
				font-weight:normal;
				min-width:60px;
				display:inline-block;
				text-align:center;
			}
			.smallIcon {
				vertical-align:middle;
				height:30px;
			}
			.slider {
				-webkit-appearance: none;
				height: 12px;
				border-radius: 5px;  
				background: #E9ECEF;
				outline: none;
				opacity: 0.7;
				-webkit-transition: .2s;
				transition: opacity .2s;
				max-width: 200px;
			}
			.slider::-webkit-slider-thumb {
				-webkit-appearance: none;
				appearance: none;
				width: 16px;
				height: 16px;
				border-radius: 50%; 
				background: #6ec179;
				cursor: pointer;
			}
			.slider::-moz-range-thumb {
				width: 16px;
				height: 16px;
				border-radius: 50%;
				background: #6ec179;
				cursor: pointer;
			}
			.slider:hover {
				opacity: 1; /* Fully shown on mouse-over */
			}
			.inputNice {
				width:60px;
				font-size:12pt;
				border-radius:4px;
				border:1px solid grey;
				padding:2px;
			}

			 /* The switch - the box around the slider */
			.switch {
			  position: relative;
			  display: inline-block;
			  width: 36px;
			  height: 20px;
			}

			/* Hide default HTML checkbox */
			.switch input {display:none;}

			/* The slider */
			.toggleSlider {
			  position: absolute;
			  cursor: pointer;
			  top: 0;
			  left: 0;
			  right: 0;
			  bottom: 0;
			  height:8px;
			  background-color: #ddd;
			  transition: .2s;
			}

			.toggleSlider:before {
			  position: absolute;
			  content: "";
			  height: 16px;
			  width: 16px;
			  left: -3px;
			  bottom: -5px;
			  background-color: #eee;
			  transition: .2s;
			}

			input:checked + .toggleSlider {
			  background-color: #c0e2c5;
			}

			input:focus + .toggleSlider {
			  box-shadow: 0 0 1px #c0e2c5;
			}

			input:checked + .toggleSlider:before {
			  transform: translateX(20px);
			  background-color:#6ec179;
			}

			/* Rounded sliders */
			.toggleSlider.round {
			  border-radius: 24px;
			  border:1px solid grey;
			}

			.toggleSlider.round:before {
			  border-radius: 50%;
			  border:1px solid grey;
			}
			
			.optionDiv {
				display:table;
				padding:4px;
			}
			.optionDiv .label {
				padding-left:20px;
				position:relative;
				top:-9px;
			}
			.container {
				display: block;
				position: relative;
				padding-left: 35px;
				margin-bottom: 12px;
				cursor: pointer;
				font-size: 12pt;
				user-select: none;
			}

			/* Hide the browser's default radio button */
			.container input {
				position: absolute;
				opacity: 0;
				cursor: pointer;
			}

			/* Create a custom radio button */
			.checkmark {
				position: absolute;
				top: 5px;
				left: 0;
				height: 16px;
				width: 16px;
				background-color: #eee;
				border-radius: 50%;
				border:1px solid grey;
			}

			/* On mouse-over, add a grey background color */
			.container:hover input ~ .checkmark {
				background-color: #ccc;
			}

			/* When the radio button is checked, add a blue background */
			.container input:checked ~ .checkmark {
				background-color: #6ec179;
			}

			/* Create the indicator (the dot/circle - hidden when not checked) */
			.checkmark:after {
				content: "";
				position: absolute;
				display: none;
			}

			/* Show the indicator (dot/circle) when checked */
			.container input:checked ~ .checkmark:after {
				display: block;
			}

			/* Style the indicator (dot/circle) */
			.container .checkmark:after {
			/*	top: 9px;
				left: 9px;
				width: 8px;
				height: 8px;
				border-radius: 50%;
				background: white;*/
			}
			 /* Style the tab */
			.tab {
				overflow: hidden;
			/*	border: 1px solid #ccc; */

			/*	background-color: #f1f1f1; */
				display:inline-block;
				margin:0;
				padding:0;
			}

			/* Style the buttons that are used to open the tab content */
			.tab button {
				border: 1px solid #ccc; 
				border-bottom: 0;
				background-color: inherit;
				float: left;
				outline: none;
				cursor: pointer;
				padding: 14px 16px;
				font-size:16pt;
				text-align:right;
				margin:0;
				color:#888;
			}

			/* Change background color of buttons on hover */
			.tab button:hover {
				background-color: #ddd;
			}

			/* Create an active/current tablink class */
			.tab button.active {
				background-color: white;
				color:#343a40;
				font-weight:bold;
			}

			/* Style the tab content */
			.tabcontent {
				display: none;
				padding: 20px;
				border: 1px solid #ccc;
				border-top: none;
				font-size:12pt;
				font-weight:bold;
				animation: fadeEffect .25s;
				background-color:white;
				margin:0;
			} 

			/* Go from zero to full opacity */
			@keyframes fadeEffect {
				from {opacity: 0;}
				to {opacity: 1;}
			}
			.tablinks IMG {
				display:none;
				height:30px;
				vertical-align:middle;
				margin-right:20px;
				overflow: hidden;
			}
			
			.fade-in {
				opacity: 1;
				animation-name: fadeEffect;
				animation-iteration-count: 1;
				animation-timing-function: ease-in;
				animation-duration: .25s;
			}
			
		</style>
	</head>
	<body>
		<div class='tab'>
			<button class='tablinks' data-tabid='optionsTab'><img src='icons/load.png' />Menus</button>
			<button class='tablinks' data-tabid='enginesTab'><img src='icons/settings.png' />Search Engines</button>
		</div>
		<div class='tabcontent' id='optionsTab'>
			<div>
				<div class='optionDiv'>
					<label class="switch">
						<input type="checkbox" id='cb_backgroundTabs'>
						<span class="toggleSlider round"></span>
					</label>
					<label class='label'>Always Open Tabs In Background</label>
				</div>
				
				<div class='optionDiv'>
					<label class="switch">
						<input type="checkbox" id='cb_swapKeys'>
						<span class="toggleSlider round"></span>
					</label>
					<label class='label'>Swap Ctrl And Shift Keys</label>
				</div>
				<p><span class='keyboardButton' id='default_shift'>Shift</span>&nbsp;&nbsp; + &nbsp;&nbsp;<img src='icons/leftmouse.png' class='smallIcon' /><span style='margin-left:32px;'>Open In New Window</span></p>
				<p><span class='keyboardButton' id='default_ctrl'>Ctrl</span>&nbsp;&nbsp; + &nbsp;&nbsp;<img src='icons/leftmouse.png' class='smallIcon' /><span style='margin-left:32px;'>Open In Background Tab</span></p>
				<hr />
				<div class='blobContainerHeader' style='padding:0 0 20px 0;border:0px'><img src='icons/context_menu.png' />Context Menu</div>
				<div style='display:none'></div>
				<div class='optionDiv'>
					<label class="switch">
						<input type="checkbox" id='cb_contextMenu'>
						<span class="toggleSlider round"></span>
					</label>
					<label class='label'>Enable Context Menu</label>
				</div>
				<hr />
				<div id='quickMenuOptions'>
				<div class='blobContainerHeader' style='padding:0 0 20px 0;border:0px'><img src='icons/quick_menu.png' />Quick Menu</div>
				<div style='display:none'></div>
				<div class='optionDiv'>
					<label class="switch">
						<input type="checkbox" id='cb_quickMenu'>
						<span class="toggleSlider round"></span>
					</label>
					<label class='label'>Enable Quick Menu</label>
				</div>
				<div style='margin-left:30px;font-size:10pt;border-left:3px solid #E9ECEF;padding-left:10px;'>
					<i>Quick Menu disabled on addons.mozilla.org</i><br />
					<i>Context Menu will be enabled if Quick Menu fails to open</i>	
				</div>
				<p>
					<p>Select Text And</p>				
					<label class="container">
						<input type='radio' id='r_quickMenuAuto' name='quickMenuMethod' />
						<span class="checkmark"></span>Open Menu Automatically<img class='smallIcon' src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" />
					</label>
	
					<p style='display:none'>
						<label class="container">Click &nbsp;&nbsp;&nbsp;<img src='icons/leftmouse.png' class='smallIcon' title='Left Button'>
							<input type='radio' id='r_quickMenuOnClick' name='quickMenuMethod' />
							<span class="checkmark"></span>
						</label>
					</p>
				
					<label class="container">
						<input type='radio' id='r_quickMenuOnMouse' name='quickMenuMethod' />
						<span class="checkmark"></span>Hold &nbsp;&nbsp;&nbsp;
					<img id='img_leftMouseButton' src='icons/leftmouse.png' class='smallIcon' title='Left Button' style='opacity:.4'>
					<span style='width:25px;display:inline-block'></span>
					<img id='img_rightMouseButton' src='icons/leftmouse.png' class='smallIcon' title='Right Button' style='opacity:.4;transform: scaleX(-1);'>
					</label>
					<input id='h_mouseButton' type='hidden' value='3' />
				
					<label class="container">Press Key &nbsp;&nbsp;&nbsp;
						<input type='radio' id='r_quickMenuOnKey' name='quickMenuMethod' />
						<span class="checkmark"></span><button id='b_quickMenuKey' class='keyboardButton'>Set</button>
					</label>
					
				</p>
				<p>
					<input type="number" id="n_quickMenuColumns" size="2" class='inputNice'><label>&nbsp;&nbsp;&nbsp;Columns</label>
				</p>
				<p>
					<input type="number" id="n_quickMenuItems" size="2" class='inputNice'><label>&nbsp;&nbsp;&nbsp;Items <i style='font-size:10pt'>(show only the first <span style='font-style:normal'>n</span> in list)</i></label>
				</p>
				<p>
					<input id='i_quickMenuScale' class='inputNice' value="100%" readonly /><label>&nbsp;&nbsp;&nbsp;Size</label>
					<input type='range' id='range_quickMenuScale' class='slider' min=".5" max="2.5" step=".1" value="1" />
				</p>
				<p>
					<input type="number" id="n_quickMenuOffsetX" size="2" class='inputNice'><label>&nbsp;&nbsp;&nbsp;Horizontal Offset</label>
				</p>
				<p>
					<input type="number" id="n_quickMenuOffsetY" size="2" class='inputNice'><label>&nbsp;&nbsp;&nbsp;Vertical Offset</label>
				</p>
			</div>
			</div>
		</div>
		<div class='tabcontent' id='enginesTab'>
			<div style='font-weight:normal; font-family:"Source Sans Pro", sans-serif;'>
				<div>
					<b>(!) Firefox 57+ Add-ons cannot access your stored search engines automatically without a helper application</b>
					<p><b>ContextSearch provides the following options for loading your installed search engines:</b></p>
				</div>
				<ul>
					<li><b>Automatic</b><br />Install a tiny helper app to keep your list updated automatically</li><br />
					<li><b>Manual</b><br />Use the <i><b>Browse</b></i> button below to load your search engines. You will need to do this whenever you modify your search engine list.</li>
				</ul>		
				<hr />
				<div class='blobContainerHeader' style='padding:0 0 20px 0;border:0px'>Automatic (<i>beta</i>)</div>
				<div style='padding:0;margin:0;padding-left:20px'>
				<b>Requires Helper App:</b><br />
				<p style='margin-left:40px'>
					<img src='icons/windows.png' style='width:24px;vertical-align:middle;margin-right:16px;padding:2px'/><a href='https://github.com/ssborbis/ContextSearch-Native-App/releases/latest' />Windows installer</a> &nbsp;[github]<br />
					<img src='icons/mac.png' style='width:24px;vertical-align:middle;margin-right:16px;padding:2px'/><a href='https://github.com/ssborbis/ContextSearch-Native-App'>source</a> &nbsp;[github]<br />
					<img src='icons/linux.png' style='width:24px;vertical-align:middle;margin-right:16px;padding:2px'/><a href='https://github.com/ssborbis/ContextSearch-Native-App'>source</a> &nbsp;[github]<br />
				</p>
				<div id='div_searchJsonPathResponse'></div>Enter the full path to <b>search.json.mozlz4</b>. You can find your profile path by opening <b style='-moz-user-select:text'>about:profiles</b> in the address bar<br />
				<input type='text' class='inputNice code' id='i_searchJsonPath' style='width:90%;padding:4px;margin:4px 0px' /><br />
				<span style='font-size:12pt'>
					e.g. <i>C:/Users/&lt;username&gt;/AppData/Roaming/Mozilla/Firefox/Profiles/1a34asfs.default/search.json.mozlz4</i>
				</span>
				</div>
				<hr />
				<div class='blobContainerHeader' style='padding:0 0 20px 0;border:0px'>Manual</div>
				<div style='padding:0;margin:0;padding-left:20px'>
				Browse to your profile folder and select your <b>search.json.mozlz4</b> file. You can find your profile path by opening <b style='-moz-user-select:text'>about:profiles</b> in the address bar
				<p>
				<input name="selectMozlz4FileButton" id='selectMozlz4FileButton' type="file" accept=".json.mozlz4" style='font-size:14pt'/></p>
				<span style='font-size:10pt'></span>
				
				<div id='status_div' style='display:none;margin-top:20px;border-left:20px solid #E9ECEF;margin-left:20px;padding-left:10px'>
					<img id='status_img' class='smallIcon' style='margin-right:8px' src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" />
					<span id='status'>&nbsp;</span>
					
					<p id='searchEngineWarningDivContainer' style='display:none'>
						<img src='icons/alert.png' class='smallIcon' style='margin-right:8px' /> The following search engines may not work correctly due to non UTF-8 character encoding. If you experience problems with these search engines, help the developers by reporting issues <a href='https://github.com/ssborbis/ContextSearch-web-ext/issues'>here</a>
						<div id='searchEngineWarningDiv'></div>
					</p>
				</div>
				<p><b>Typical locations:</b></p>
				<div style='margin-left:20px'>
					<p><img class='smallIcon' src='icons/windows.png'><b>&nbsp;&nbsp;Windows</b></p><p class='code'>%APPDATA%/Mozilla/Firefox/Profiles/<i>&lt;profile&gt;</i>/search.json.mozlz4</p>
					<p><img class='smallIcon' src='icons/mac.png'><b>&nbsp;&nbsp;Mac OS X</b></p>
					<p class='code'>Users/<i>&lt;username&gt;</i>/Library/Application Support/Firefox/Profiles/<i>&lt;profile&gt;</i>/search.json.mozlz4</p>
					<p><img class='smallIcon' src='icons/linux.png'><b>&nbsp;&nbsp;Linux</b></p>
					<p class='code'>/home/<i>&lt;username&gt;</i>/.mozilla/firefox/<i>&lt;profile&gt;</i>/search.json.mozlz4</p>
				</div>				

				<a href='' id='a_howTo'>See the <b>How-To</b> video for more details.</a>
				<div style='text-align:center;display:none;width:100%;'>
					<div id='howToImgDiv' style='text-align:center;'>
						<img src='icons/spinner.svg' style='width:25%;height:25%' />
					</div>
					<a href='https://raw.githubusercontent.com/ssborbis/ContextSearch-web-ext/master/icons/howto.gif"' target='_blank' style='text-decoration: none;'>&rdca; howto.gif</a>
				</div>	
				</div>
			</div>
		</div>
		<script src="mozlz4.js"></script>
		<script src="searchEngineUtils.js"></script>
		<script src="keyTable.js"></script>
		<script src="options.js"></script>
	</body>
</html>