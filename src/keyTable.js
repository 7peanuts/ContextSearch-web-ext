window.browser = (function () {
  return window.msBrowser ||
    window.browser ||
    window.chrome;
})();

var keyTable = {
8:browser.i18n.getMessage("BackspaceKey"),
9:"Tab",
13:browser.i18n.getMessage("EnterKey"),
16:browser.i18n.getMessage("ShiftKey"),
17:"Ctrl",
18:"Alt",
19:browser.i18n.getMessage("PauseBreakKey"),
20:browser.i18n.getMessage("CapsLockKey"),
27:browser.i18n.getMessage("EscKey"),
32:browser.i18n.getMessage("SpaceKey"),
33:browser.i18n.getMessage("PgUpKey"),
34:browser.i18n.getMessage("PgDnKey"),
35:browser.i18n.getMessage("EndKey"),
36:browser.i18n.getMessage("HomeKey"),
37:browser.i18n.getMessage("LeftArrowKey"),
38:browser.i18n.getMessage("UpArrowKey"),
39:browser.i18n.getMessage("RightArrowKey"),
40:browser.i18n.getMessage("DownArrowKey"),
45:browser.i18n.getMessage("InsertKey"),
46:browser.i18n.getMessage("DelKey"),
48:"0",
49:"1",
50:"2",
51:"3",
52:"4",
53:"5",
54:"6",
55:"7",
56:"8",
57:"9",
65:"a",
66:"b",
67:"c",
68:"d",
69:"e",
70:"f",
71:"g",
72:"h",
73:"i",
74:"j",
75:"k",
76:"l",
77:"m",
78:"n",
79:"o",
80:"p",
81:"q",
82:"r",
83:"s",
84:"t",
85:"u",
86:"v",
87:"w",
88:"x",
89:"y",
90:"z",
91:browser.i18n.getMessage("LeftWindowKey"),
92:browser.i18n.getMessage("RightWindowKey"),
93:browser.i18n.getMessage("SelectKey"),
96:"Numpad 0",
97:"Numpad 1",
98:"Numpad 2",
99:"Numpad 3",
100:"Numpad 4",
101:"Numpad 5",
102:"Numpad 6",
103:"Numpad 7",
104:"Numpad 8",
105:"Numpad 9",
106:"*",
107:"+",
109:"-",
110:".",
111:"/",
112:"F1",
113:"F2",
114:"F3",
115:"F4",
116:"F5",
117:"F6",
118:"F7",
119:"F8",
120:"F9",
121:"F10",
122:"F11",
123:"F12",
144:browser.i18n.getMessage("NumLockKey"),
145:browser.i18n.getMessage("ScrollLockKey"),
186:";",
187:"=",
188:",",
189:"-",
190:".",
191:"/",
192:"`",
219:"[",
220:"\\",
221:"]",
222:"'"
}